


# 当前已优化问题
1.使用ExtentReport代替原来的NGReport，精简（由多个结果文件变成现在的一个html报告）并美化测试报告。  
2.优化报告用例显示顺序问题：当前优先按照用例状态fail->pass->skip 排序，每类又按照用例执行时间排序。  
3.当用例标记为不执行时，之前显示的状态为pass，现在优化为skip。  
4.当预期结果和实际结果比对不上时，将比对不上的地方打印出来  
5.实现全量对比，可以直接复制mock数据的结果作为预期结果,并且支持部分对比，如果用例没有实现全量对比，给出警告信息.  
6.响应数据如果不是json格式，如图片流等，则只判断响应数据中是否包含对应格式的字符串，如：data:image/jpeg;base64    
7.优化读取excel文件读到多余空行而导致空指针并且不出报告的问题  
8.支持报告完成后自动发送邮件，需要在api-config.xml文件中配置邮箱相关设置（收件人/发件人等等）


# 待优化问题
####  框架代码优化
1.当suite中含有多个test时，每个test作为一个父节点，test中的每条用例为该节点下的一个node;当前node的时间显示的是该用例执行的结束时间，时间差值显示的是node的结束时间-父节点的结束时间，而并非该节点（用例）的执行时间

####  测试结果存入数据库问题
测试结果入库，需要提前建立好数据库，并将表创建完成，表结构可根据需要进行设计，并在代码中的相关位置进行修改如配置文件和TestRun类还有DbcpUtil类。现阶段暂时注释此方法，如需要，请自行修改并创建数据库。
####  持续集成
根据需要，可在jenkins中创建持续集成任务，可达成代码提交即执行测试，前提是保证用例随代码更新，具体操作方式可根据实际情况进行沟通配置。
# 主要目录结构介绍

#### res
存放调用执行文件的xml文件，通过此文件可方便管理测试用例文件位置，修改报告名称，是否对首次测试失败的用例进行重复执行。
#### functions
存放后续扩展类，如md5加密、时间戳等
#### model
数据库存放日志操作实体类，用于数据库存放测试结果
#### service.Listener
测试报告优化类和失败用例重试类，用于对失败的测试用例进行重新执行，并将重复的测试报告区分
#### util
工具的主要方法，包括数据库操作、字符串操作、excel操作和发送http请求等
#### resources
存放配置文件，此配置文件主要用来配置用例文档后缀名、执行超时时间、参数发送格式、header信息(token或ticket存放位置)和数据库信息等
#### test
存放用例执行类TestRun，操作执行所有用例并判断是否执行成功，结果写入数据库等
#### test-output：
测试报告输出位置，在html目录下的index.html
#### doc
存放本框架详细使用手册以及用例模板文件（excel）

